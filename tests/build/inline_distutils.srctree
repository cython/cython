PYTHON setup.py build_ext --inplace
PYTHON -c "import a"

######## setup.py ########


# TODO: Better interface...
from Cython.Compiler.Dependencies import create_extension_list, cythonize

from distutils.core import setup

setup(
  ext_modules = cythonize(create_extension_list("*.pyx")),
)

######## my_lib.pxd ########

# distutils: language=c++

cdef extern from "my_lib_helper.cpp" namespace "A":
    int x

######## my_lib_helper.cpp #######

namespace A {
    int x = 100;
};

######## a.pyx ########

from my_lib cimport x

print x
